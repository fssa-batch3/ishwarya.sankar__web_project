<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login page</title>
    <link rel="stylesheet" href="../assests/style.css/sigin.css">
</head>
<body>
    <div class="main">  	
		<input type="checkbox" id="chk" aria-hidden="true">
			<div class="signup">
				<form name="app" id="signup">
					<label for="chk">Sign Up</label>
					<input type="text"  name="reqname"id="txt" placeholder="User name" pattern="[a-z]{6}">
					<input type="email" name="reqemail" id="email" placeholder="Email">
					<input type="password" name="reqpass" id="pswd" placeholder="Password"  title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"> 
					<input type=" confirm password" name="repass" id="cpswd" placeholder="Password"  title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"> 
					<button type="submit"  onclick="signin()">Sign up</button>
				</form>
			</div>

			<!-- <div class="login">
				<form id="log">
					<label for="chk" aria-hidden="true">Login</label>
					<input type="email" id="mail" placeholder="Email">
					<input type="password" id="swd" placeholder="Password" >
					<button type="submit" id="login" >Login</button>
				</form>
			</div> -->
	</div>
	<script>
//declaring array outside because every time object to be stored inside the array
                        let main=[];
//function call						
// declaring fucntion
					 function signin(){
						// declaring variables to get value from the input box by getelementbyid
                         const name=document.getElementById("txt").value.trim()
	                     const email =document.getElementById("email").value.trim()
 		                  const pass=document.getElementById("pswd").value.trim()
						  const pass2=document.getElementById("cpswd").value.trim()
						// declaring an object
						  let object=new Object();
						  object["username"]=name;
						  object["useremail"]=email;
						  object["userpassword"]=pass;
						  object["userconfirmpass"]=pass2;
             

						  main.push(object);
						  if (pass != pass2) {
          alert("Password Doesn't Match");
		  
		
        }


		
		  let cort = JSON.parse(window.localStorage.getItem("obj"));
       

		  let match=false;
		    for (i=0;i<cort.length;i++){

        if(email===cort[i].useremail){
			match=true
			break
		}
	}
	
	  if(match===true){
		alert("already exist");
	  }
	  else{

		if(window.localStorage.getItem("obj")===null){
							window.localStorage.setItem("obj",JSON.stringify( main));
							console.log(obj)

						  }
						     else{
								     let users=window.localStorage.getItem("obj");
									 let userjs=JSON.parse(users);
									 userjs.push(object);
									 window.localStorage.setItem("obj",JSON.stringify(userjs));
							 }


	  }
	}






						
						  
						 
		// 				function userLogin(){
        //     // event.preventDefault()
        //     let main=JSON.parse(window.localStorage.getItem("obj"));
        //                 const arr=[] 
		// 				if (arr.value === mail.value) {
        //   alert("User Already Exists");
        // } else {
         
        // }                        
        //                            console.log(main)
		// 						 const email2=document.getElementById("mail").value;
        //          			     const password2=document.getElementById("swd").value;
        //                         //   console.log(email2);
        //                           let match=false;
		// 						 for(let i=0;i<main.length;i++){
		// 							if(
		// 								email2 ===main[i].useremail&&
		// 								password2 === main[i].userpassword
                                  
		// 							){
        //                               match=true;
        //                              arr.push(main[i])
        //                              window.localStorage.setItem("data",JSON.stringify(arr));
		// 							 break;
		// 						 }
        //                             else{
        //                                 match=false;

        //                             }
		// 				 }
       
        //                  if (match==true){
        //                     alert("SUCCESS")
        //                  }
        //                  else{
        //                     alert("Failed")
                        //  }}
	</script>
 </body>
 </html>